<!doctype html>
<meta charset="utf-8">
<title>商品分析</title>
<link href="css/style.css" rel="stylesheet" type="text/css" media="all"/>

<!--js-->
<!--<script src="js/echarts.min.js" charset="utf-8"></script>-->

<!--设置是否为缩放模式 -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- 新 Bootstrap 核心 CSS 文件 -->
<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
<script src="js/jquery.min.js"></script>
<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script src="js/bootstrap.min.js"></script>
<script src="js/chartMap.js"></script>
<script src="js/china.js"></script>
<script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/echarts-gl/dist/echarts-gl.min.js"></script>

<body>
<div class="bnt">
    <div class="topbnt_left fl">
        <ul>
            <li><a href="shop.html">店铺分析</a></li>
            <li class="active"><a href="item.html">商品分析</a></li>
            <li><a href="system.html">大数据系统</a></li>

        </ul>
    </div>
    <h1 class="tith1 fl">商品异常展示系统</h1>
</div>
<!-- bnt end -->
<div class="left1 pleft1">
    <div class="lefttime"><h2 class="tith2">统计时间</h2>
        <div class="lefttime_text">
            <ul>
                <li class="bg ">今日</li>
                <li></li>
                <li class="bg">本周</li>
                <li></li>
                <li class="bg active">本月</li>
                <li></li>
                <li class="bg">本季</li>
                <li></li>
                <li class="bg">本年</li>
            </ul>
        </div>
    </div>
    <div class="plefttoday"><h2 class="tith2">商品概况</h2>
        <div class="lefttoday_number">
            <div class="widget-inline-box text-center fl">
                <p>商品总数</p>
                <h3 class="ceeb1fd">4384633</h3>
            </div>
            <div class="widget-inline-box text-center fl">
                <p>异常商品数</p>
                <h3 class="c24c9ff">25641</h3>
            </div>
            <div class="widget-inline-box text-center fl">
                <p>异常商品比例</p>
                <!--                <br/>-->
                <h3 class="cffff00">0.58%</h3>
                <!--                <h4 class="text-muted">环比<img src="img/icondown.png" height="16"/>3%</h4>-->
            </div>
            <div class="widget-inline-box text-center fl">
                <p>异常商品环比增量</p>
                <h3 class="c11e2dd"><img src="img/icondown.png" height="16"/> 2.6%</h3>
                <!--                <h4 class="text-muted">环比<img src="img/icondown.png" height="16"/>3%</h4>-->
            </div>
        </div>
        <!-- lefttoday_number end -->
        <!--  lefttoday_bar end-->
    </div>
    <div class="lpeftmidbot">
        <h2 class="tith2">各月异常商品数量</h2>
        <div id="lpeftmidbot" class="lpeftmidbotcont"></div>
    </div>
    <div class="lpeftbot">
        <h2 class="tith2">异常商品占比</h2>
        <div id="lpeftbot" class="lpeftbotcont"></div>
    </div>
</div>
<!--  left1 end -->
<div class="left3">
    <div class="pleftbox2top">
        <h2 class="tith2">异常商品展示</h2>
        <div class="dataAllBorder01 cage_cl"
             style="margin-top: 1.5% !important; height: 32%; position: relative;">
            <div class="dataAllBorder03" style="padding: 1.2%; overflow: hidden">

                <div class="message_scroll_box">
                    <div class="message_scroll">
                        <div class="scroll_top">
                            <span class="scroll_title">缅甸优选消毒液</span>
                            <span class="scroll_level scroll_level02">二级</span>
                            <a class="localize"></a>
                            <span class="scroll_timer">2021-09</span>
                        </div>
                        <div class="msg_cage">
                            <a class="localize_title">销量异常</a>
                        </div>
                        <div class="msg_cage">
                            <a class="localize_msg">销量过大，请重点关注！</a>
                        </div>
                    </div>
                    <div class="message_scroll">
                        <div class="scroll_top">
                            <span class="scroll_title">白菜少爷很快乐</span>
                            <span class="scroll_level scroll_level01">一级</span>
                            <a class="localize"></a>
                            <span class="scroll_timer">2021-09</span>
                        </div>
                        <div class="msg_cage">
                            <a class="localize_title">价格异常</a>
                        </div>
                        <div class="msg_cage">
                            <a class="localize_msg">价格与品牌标签不符，请重点关注！</a>
                        </div>
                    </div>
                    <div class="message_scroll">
                        <div class="scroll_top">
                            <span class="scroll_title">匠难翡翠直播</span>
                            <span class="scroll_level scroll_level01">一级</span>
                            <a class="localize"></a>
                            <span class="scroll_timer">2021-09</span>
                        </div>
                        <div class="msg_cage">
                            <a class="localize_title">价格异常</a>
                        </div>
                        <div class="msg_cage">
                            <a class="localize_msg">价格与店铺标签不符，请重点关注！</a>
                        </div>
                    </div>
                    <div class="message_scroll">
                        <div class="scroll_top">
                            <span class="scroll_title">牙怎样抖音快充</span>
                            <span class="scroll_level scroll_level03">三级</span>
                            <a class="localize"></a>
                            <span class="scroll_timer">2021-09</span>
                        </div>
                        <div class="msg_cage">
                            <a class="localize_title">销量异常</a>
                        </div>
                        <div class="msg_cage">
                            <a class="localize_msg">销量波动过大，请重点关注！</a>
                        </div>
                    </div>
                    <div class="message_scroll">
                        <div class="scroll_top">
                            <span class="scroll_title">各大平台代充 秒到</span>
                            <span class="scroll_level scroll_level02">二级</span>
                            <a class="localize"></a>
                            <span class="scroll_timer">2021-09</span>
                        </div>
                        <div class="msg_cage">
                            <a class="localize_title">价格异常</a>
                        </div>
                        <div class="msg_cage">
                            <a class="localize_msg">价格较同类过高，请重点关注！</a>
                        </div>
                    </div>
                    <div class="message_scroll">
                        <div class="scroll_top">
                            <span class="scroll_title">松灵机器人</span>
                            <span class="scroll_level scroll_level03">三级</span>
                            <a class="localize"></a>
                            <span class="scroll_timer">2021-09</span>
                        </div>
                        <div class="msg_cage">
                            <a class="localize_title">销量异常</a>
                        </div>
                        <div class="msg_cage">
                            <a class="localize_msg">销量波动过大，请重点关注！</a>
                        </div>
                    </div>
                </div>

            </div>
            <div class="scroll_tool_outbox">
                <div class="scroll_tool_box">
                    <a class="scroll_tool" href="#">查看历史推送</a>
                </div>
            </div>
        </div>
    </div>
    <div class="lpeft2bot">
        <h2 class="tith2">商品标签情况图</h2>

        <div class="pvr fl liwp lpeftb2otcont1" style="height:80%;">
            <div id="pleftbox2bott_cont" class="lpeftb2otcont" style="height:100%;"></div>
        </div>


    </div>
</div>
</div>
<div class="mrbox prbox">
    <div class="mrbox_top">
        <div class="mrbox_top_midd">
            <div class="mrboxtm-mbox"><h2 class="tith2 pt1">销量排行</h2>
                <div class="pmrtop_cont1">
                    <div class="pmrtop_contheight">
                        <div class="widget-inline-box text-center fl">
                            <p>最大销量类别</p>
                            <h3 class="pt6 ceeb1fd">服装鞋包</h3>
                        </div>
                        <div class="widget-inline-box text-center fl">
                            <p>该分类当月总销量</p>
                            <h3 class="pt6 c24c9ff">815352</h3>
                        </div>
                    </div>
                    <div class="lefttoday_bar">
                        <ul>
                            <li class="c1 big7" style="top: 10%;left: 16%;"><span class="circle-span3">服装鞋包</span></li>
                            <li class="c2 big6" style="top: 15%;left: 65%;"><span class="circle-span">百货食品</span></li>
                            <li class="c3 big5" style="top: 25%;left: 35%;"><span class="circle-span2">家居建材</span></li>
                            <li class="c4 big5" style="top: 65%;left: 65%;"><span class="circle-span2">美妆饰品</span></li>
                            <li class="c5 big4" style="top: 65%;left: 25%;"><span class="circle-span">手机数码</span></li>
                            <li class="c5 big7" style="top: 0%;left: 45%;"><span class="circle-span3">母婴用品</span></li>
                            <li class="c6 big4" style="top: 45%;left: 5%;"><span class="circle-span">文化玩乐</span></li>
                            <li class="c1 big3" style="top: 35%;left: 90%;"></li>
                            <li class="c2 big3" style="top: 85%;left: 55%;"></li>
                            <li class="c3 big2" style="top: 85%;left: 15%;"></li>
                        </ul>
                    </div>
                </div>
            </div>
            <!--  map end-->
            <div class="pmrboxbottom" style="padding-top: 30px"><h2 class="tith2 pt1">销量异常离群点检测</h2>
                <div id="chart_3d" class="pmrboxbottomcont"></div>
            </div>
        </div>
        <div class="item_right">
            <div class="aleftboxtbott">
                <h2 class="tith2">异常商品高发分类TOP5</h2>
                <div class="lefttoday_tit height ht">
                    <!--                <p class="fl">状态：已调节</p>-->
                    <p class="fr">时间段：截止 2021-09</p></div>
                <div id="chart3" class="aleftboxtmiddcont"></div>
            </div>
            <div class="aleftboxtbott">
                <h2 class="tith2">异常商品归因TOP5</h2>
                <div class="lefttoday_tit height">
                    <!--                <p class="fl">状态：已调节</p>-->
                    <p class="fr">时间段：截止 2021-09</p></div>
                <div id="chart4" class="aleftboxtbott_cont"></div>
            </div>
        </div>
    </div>

    <!--    <div class="mrbox_bottom">-->
    <!--        <div class="rbottom_box1"><h2 class="tith2">高危人员年龄分析</h2>-->
    <!--            <div id="prbottom_box1" class="prbottom_box1cont"></div>-->
    <!--        </div>-->
    <!--        <div class="rbottom_box2"><h2 class="tith2">高危人员分类统计</h2>-->
    <!--            <div id="prbottom_box2" class="prbottom_box1cont"></div>-->
    <!--        </div>-->
    <!--        <div class="rbottom_box3"><h2 class="tith2 pt2">流动人口年龄分析</h2>-->
    <!--            <div id="prbottom_box3" class="prbottom_box1cont"></div>-->
    <!--        </div>-->

    <!--    </div>-->
</div>
<!--chart3-->
<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('chart3'));
    option = {
        color: ['#7ecef4'],
        backgroundColor: 'rgba(1,202,217,0)',
        grid: {
            left: 20,
            right: 20,
            top: 13,
            bottom: 6,
            containLabel: true
        },

        xAxis: {
            type: 'value',
            axisLine: {
                lineStyle: {
                    color: 'rgba(255,255,255,.2)'
                }
            },
            splitLine: {
                lineStyle: {
                    color: 'rgba(255,255,255,0)'
                }
            },
            axisLabel: {
                color: "rgba(255,255,255,0)",
                fontSize: '16'
            },
            boundaryGap: [0, 0.01]
        },
        yAxis: {
            type: 'category',
            axisLine: {
                lineStyle: {
                    color: 'rgba(255,255,255,.5)'
                }
            },
            splitLine: {
                lineStyle: {
                    color: 'rgba(255,255,255,.1)'
                }
            },
            axisLabel: {
                color: "rgb(255,255,255)",
                fontSize: '16'
            },
            data: ['消毒液', '家居智能设备', '果蔬收纳袋', '卫衣', '摆件']
        },
        series: [
            {
                name: '2011年',
                type: 'bar',
                barWidth: 30,
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(
                            1, 0, 0, 1,
                            [
                                {offset: 0, color: 'rgba(139,203,232,0.89)'},
                                {offset: 1, color: 'rgba(41,220,205,0)'}
                            ]
                        ),
                        fontSize: '16'
                    }
                },
                data: [18203, 23489, 29034, 31242, 40000]
            }
        ]
    };
    myChart.setOption(option);
    // var myChart = echarts.init(document.getElementById('aleftboxtmidd'));
    // option = {
    //     color: ['#76c4bf', '#e5ffc7', '#508097', '#4d72d9'],
    //     backgroundColor: 'rgba(1,202,217,.2)',
    //     grid: {
    //         left: 10,
    //         right: 40,
    //         top: 20,
    //         bottom: 0,
    //         containLabel: true
    //     },
    //     // legend: {
    //     //     x : 'center',
    //     //     y : '70%',
    //     //     textStyle:{
    //     //       fontSize: 10,
    //     //       color:'rgba(255,255,255,.7)'
    //     //     },
    //     //     data:['康定市','丹巴县','甘孜县','理塘县']
    //     // },
    //     calculable: true,
    //     series: [
    //
    //         {
    //             name: '面积模式',
    //             type: 'pie',
    //             radius: [5, 60],
    //             center: ['50%', '55%'],
    //             roseType: 'area',
    //             data: [
    //                 {value: 10, name: '康定市'},
    //                 {value: 5, name: '丹巴县'},
    //                 {value: 15, name: '甘孜县'},
    //                 {value: 25, name: '理塘县'}
    //             ]
    //         }
    //     ]
    // };
    // myChart.setOption(option);
</script>

<!--chart4-->
<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('chart4'));
    option = {
        color: ['#7ecef4'],
        backgroundColor: 'rgba(1,202,217,.0)',
        grid: {
            left: 20,
            right: 20,
            top: 13,
            bottom: 6,
            containLabel: true
        },

        xAxis: {
            type: 'value',
            axisLine: {
                lineStyle: {
                    color: 'rgba(255,255,255,.2)'
                }
            },
            splitLine: {
                lineStyle: {
                    color: 'rgba(255,255,255,0)'
                }
            },
            axisLabel: {
                color: "rgba(255,255,255,0)",
                fontSize: '16'
            },
            boundaryGap: [0, 0.01]
        },
        yAxis: {
            type: 'category',
            axisLine: {
                lineStyle: {
                    color: 'rgba(255,255,255,.5)'
                }
            },
            splitLine: {
                lineStyle: {
                    color: 'rgba(255,255,255,.1)'
                }
            },
            axisLabel: {
                color: "rgb(255,255,255)",
                fontSize: '16'
            },
            data: ['评论/收藏异常', '销量波动大', '销量较大且为整数', '销量超过可信商品', '价格超过可信商品']
        },
        series: [
            {
                name: '2011年',
                type: 'bar',
                barWidth: 30,
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(
                            1, 0, 0, 1,
                            [
                                {offset: 0, color: 'rgba(139,203,232,0.89)'},
                                {offset: 1, color: 'rgba(41,220,205,0)'}
                            ]
                        ),
                        fontSize: '16'
                    }
                },
                data: [1458, 2500, 2847, 4403, 5012,]
            }
        ]
    };
    myChart.setOption(option);
</script>
<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('lpeftmidbot'));
    option = {
        backgroundColor: 'rgba(1,202,217,0)',
        grid: {
            left: 60,
            right: 20,
            top: 45,
            bottom: 40
        },

        // toolbox: {
        //     feature: {
        //         dataView: {show: true, readOnly: false},
        //         magicType: {show: true, type: ['line', 'bar']},
        //         restore: {show: true},
        //         saveAsImage: {show: true}
        //     }
        // },
        legend: {
            top: 10,
            textStyle: {
                fontSize: 10,
                color: 'rgba(255,255,255,.7)'
            },
            data: ['价格异常', '销量异常']
        },
        xAxis: [
            {
                type: 'category',
                axisLine: {
                    lineStyle: {
                        color: 'rgba(255,255,255,.2)'
                    }
                },
                splitLine: {
                    lineStyle: {
                        color: 'rgba(255,255,255,.1)'
                    }
                },
                axisLabel: {
                    color: "rgba(255,255,255,.7)"
                },

                data: ['6月', '7月', '8月', '9月'],
                axisPointer: {
                    type: 'shadow'
                }
            }
        ],
        yAxis: [
            {
                type: 'value',
                name: '',
                min: 0,
                max: 20000,
                interval: 5000,
                axisLine: {
                    lineStyle: {
                        color: 'rgba(255,255,255,.3)'
                    }
                },
                splitLine: {
                    lineStyle: {
                        color: 'rgba(255,255,255,.01)'
                    }
                },

                axisLabel: {
                    formatter: '{value} ',
                    color: 'rgba(255,255,255,.7)'
                }
            },
            {
                type: 'value',
                name: '',
                max: 25,
                interval: 5,
                axisLine: {
                    lineStyle: {
                        color: 'rgba(255,255,255,0)'
                    }
                },
                splitLine: {
                    lineStyle: {
                        color: 'rgba(255,255,255,0)'
                    }
                },
                axisLabel: {
                    formatter: '{value} w'
                }
            }
        ],
        series: [

            {
                name: '销量异常',
                type: 'bar',
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(
                            0, 0, 0, 1,
                            [
                                {offset: 0, color: '#d2ce86'},
                                {offset: 1, color: 'rgba(26,68,56,0.58)'}
                            ]
                        )
                    }
                },
                data: [12975, 11004, 14125, 11216]
            },
            {
                name: '价格异常',
                type: 'bar',

                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(
                            0, 0, 0, 1,
                            [
                                {offset: 0, color: '#00f0ff'},
                                {offset: 1, color: '#032a72'}
                            ]
                        )
                    }
                },
                data: [15123, 13423, 16123, 14425]
            }
        ]
    };
    myChart.setOption(option);
</script>

<!--滚动特效-->
<script type="text/javascript">
    function TimeControl() {
        $(".message_scroll_box").animate({marginTop: 96}, 800,
            function () {
                $(".message_scroll_box").css({marginTop: 0});    //把顶部的边界清零
                $(".message_scroll_box .message_scroll:first").before($(".message_scroll_box .message_scroll:last"));    //在第一个新闻后面插入最后一个新闻

            });
    }

    var T = setInterval(TimeControl, 2300);    //开始定时
    $(".message_scroll_box").mouseenter(function () {
        clearInterval(T);    //停止定时
    })
        .mouseleave(function () {
            T = setInterval(TimeControl, 2500);    //再次定时
        })
</script>
<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('lpeftbot'));
    option = {
        series: [
            {
                name: 'Access From',
                type: 'pie',
                radius: '50%',
                startAngle:0,
                data: [
                    // {value: 4358992, name: '正常'},
                    {value: 11216, name: '销量异常'},
                    {value: 14425, name: '价格异常'},
                ],
                emphasis: {
                    itemStyle: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                },
                label: {
                    color: '#fff',
                    fontSize: '16'
                }
            }
        ]
    };
    myChart.setOption(option);
</script>
<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('pleftbox2top'));
    option = {
        color: ['#d2d17c', '#00b7ee', '#5578cf', '#5ebbeb', '#d16ad8', '#f8e19a', '#00b7ee', '#81dabe', '#5fc5ce'],
        backgroundColor: 'rgba(1,202,217,0)',
        grid: {
            left: 20,
            right: 20,
            top: 0,
            bottom: 20
        },
        legend: {
            top: 10,
            textStyle: {
                fontSize: 10,
                color: 'rgba(255,255,255,.7)'
            },
            data: ['藏族', '回族', '彝族', '汉族', '土家族']
        },
        series: [
            {
                name: '访问来源',
                type: 'pie',
                radius: '55%',
                center: ['50%', '55%'],
                data: [
                    {value: 335, name: '藏族'},
                    {value: 310, name: '回族'},
                    {value: 234, name: '彝族'},
                    {value: 135, name: '汉族'},
                    {value: 158, name: '土家族'}

                ],
                itemStyle: {
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }
        ]
    };
    myChart.setOption(option);
</script>
<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('pleftbox2midd'));
    option = {
        color: ['#d2d17c', '#00b7ee', '#5578cf', '#5ebbeb', '#d16ad8', '#f8e19a', '#00b7ee', '#81dabe', '#5fc5ce'],
        backgroundColor: 'rgba(1,202,217,0)',
        grid: {
            left: 20,
            right: 20,
            top: 0,
            bottom: 20
        },
        legend: {
            top: 10,
            textStyle: {
                fontSize: 10,
                color: 'rgba(255,255,255,.7)'
            },
            data: ['0-6', '6-18', '18-28', '28-55', '55以上']
        },
        series: [
            {
                name: '访问来源',
                type: 'pie',
                radius: '55%',
                center: ['50%', '65%'],
                data: [
                    {value: 335, name: '0-6'},
                    {value: 310, name: '6-18'},
                    {value: 234, name: '18-28'},
                    {value: 135, name: '28-55'},
                    {value: 158, name: '55以上'}

                ],
                itemStyle: {
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }
        ]
    };
    myChart.setOption(option);
</script>

<script type="text/javascript">
    // todo 三维散点图

    var ROOT_PATH =
        'https://cdn.jsdelivr.net/gh/apache/echarts-website@asf-site/examples';
    var app = {};
    var chartDom = document.getElementById('chart_3d');

    var chart_3d = echarts.init(chartDom, 'dark');
    var option;

    var indices = {
        name: 0,
        group: 1,
        id: 16
    };
    var schema = [
        {name: 'name', index: 0},
        {name: 'group', index: 1},
        {name: 'protein', index: 2},
        {name: 'calcium', index: 3},
        {name: 'sodium', index: 4},
        {name: 'fiber', index: 5},
        {name: 'vitaminc', index: 6},
        {name: 'potassium', index: 7},
        {name: 'carbohydrate', index: 8},
        {name: 'sugars', index: 9},
        {name: 'fat', index: 10},
        {name: 'water', index: 11},
        {name: 'calories', index: 12},
        {name: 'saturated', index: 13},
        {name: 'monounsat', index: 14},
        {name: 'polyunsat', index: 15},
        {name: 'id', index: 16}
    ];
    var data;
    var fieldIndices = schema.reduce(function (obj, item) {
        obj[item.name] = item.index;
        return obj;
    }, {});
    var groupCategories = [];
    var groupColors = [];
    var data;
    var fieldNames = schema.map(function (item) {
        return item.name;
    });
    fieldNames = fieldNames.slice(2, fieldNames.length - 2);

    function getMaxOnExtent(data) {
        var colorMax = -Infinity;
        var symbolSizeMax = -Infinity;
        for (var i = 0; i < data.length; i++) {
            var item = data[i];
            var colorVal = item[fieldIndices[config.color]];
            var symbolSizeVal = item[fieldIndices[config.symbolSize]];
            colorMax = Math.max(colorVal, colorMax);
            symbolSizeMax = Math.max(symbolSizeVal, symbolSizeMax);
        }
        return {
            color: colorMax,
            symbolSize: symbolSizeMax
        };
    }

    var config = (app.config = {
        xAxis3D: 'protein',
        yAxis3D: 'fiber',
        zAxis3D: 'sodium',
        color: 'fiber',
        symbolSize: 'vitaminc',
        onChange: function () {
            var max = getMaxOnExtent(data);
            if (data) {
                chart_3d.setOption({
                    visualMap: [
                        {
                            max: max.color / 2
                        },
                        {
                            max: max.symbolSize / 2
                        }
                    ],
                    xAxis3D: {
                        name: config.xAxis3D
                    },
                    yAxis3D: {
                        name: config.yAxis3D
                    },
                    zAxis3D: {
                        name: config.zAxis3D
                    },
                    series: {
                        dimensions: [
                            config.xAxis3D,
                            config.yAxis3D,
                            config.yAxis3D,
                            config.color,
                            config.symbolSize
                        ],
                        data: data.map(function (item, idx) {
                            return [
                                item[fieldIndices[config.xAxis3D]],
                                item[fieldIndices[config.yAxis3D]],
                                item[fieldIndices[config.zAxis3D]],
                                item[fieldIndices[config.color]],
                                item[fieldIndices[config.symbolSize]],
                                idx
                            ];
                        })
                    }
                });
            }
        }
    });
    app.configParameters = {};
    ['xAxis3D', 'yAxis3D', 'zAxis3D', 'color', 'symbolSize'].forEach(function (
        fieldName
    ) {
        app.configParameters[fieldName] = {
            options: fieldNames
        };
    });
    $.getJSON(ROOT_PATH + '/data/asset/data/nutrients.json', function (_data) {
        data = _data;
        var max = getMaxOnExtent(data);
        chart_3d.setOption({
            tooltip: {},
            backgroundColor: 'rgba(54,77,80,0)',
            visualMap: [
                {
                    top: 10,
                    calculable: true,
                    dimension: 3,
                    max: max.color / 2,
                    inRange: {
                        color: [
                            '#1710c0',
                            '#0b9df0',
                            '#00fea8',
                            '#00ff0d',
                            '#f5f811',
                            '#f09a09',
                            '#fe0300'
                        ]
                    },
                    textStyle: {
                        color: '#fff'
                    }
                },
                {
                    bottom: 10,
                    calculable: true,
                    dimension: 4,
                    max: max.symbolSize / 2,
                    inRange: {
                        symbolSize: [10, 40]
                    },
                    textStyle: {
                        color: '#fff'
                    }
                }
            ],
            xAxis3D: {
                name: '变化率1',
                type: 'value'
            },
            yAxis3D: {
                name: '变化率2',
                type: 'value'
            },
            zAxis3D: {
                name: '变化率3',
                type: 'value'
            },
            grid3D: {
                axisLine: {
                    lineStyle: {
                        color: '#fff'
                    }
                },
                axisPointer: {
                    lineStyle: {
                        color: '#ffbd67'
                    }
                },
                viewControl: {
                    // autoRotate: true
                    // projection: 'orthographic'
                }
            },
            series: [
                {
                    type: 'scatter3D',
                    dimensions: [
                        config.xAxis3D,
                        config.yAxis3D,
                        config.yAxis3D,
                        config.color,
                        config.symbolSiz
                    ],
                    data: data.map(function (item, idx) {
                        return [
                            item[fieldIndices[config.xAxis3D]],
                            item[fieldIndices[config.yAxis3D]],
                            item[fieldIndices[config.zAxis3D]],
                            item[fieldIndices[config.color]],
                            item[fieldIndices[config.symbolSize]],
                            idx
                        ];
                    }),
                    symbolSize: 12,
                    // symbol: 'triangle',
                    itemStyle: {
                        borderWidth: 1,
                        borderColor: 'rgba(255,255,255,0.8)'
                    },
                    emphasis: {
                        itemStyle: {
                            color: '#fff'
                        }
                    }
                }
            ]
        });
    });

    option && chart_3d.setOption(option);


</script>
<!--商品标签情况图-->
<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('pleftbox2bott_cont'));
    option = {
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                type: 'cross',
                label: {
                    backgroundColor: '#6a7985'
                }
            }
        },
        // toolbox: {
        //     feature: {
        //         saveAsImage: {}
        //     }
        // },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis: [
            {
                type: 'category',
                boundaryGap: false,
                data: ['6月', '7月', '8月', '9月'],

                axisLine: {
                    lineStyle: {
                        color: '#ffffff',
//                            width:8,//这里是为了突出显示加上的，可以去掉
                    }
                },
                //  改变x轴字体颜色和大小
                axisLabel: {
                    textStyle: {
                        color: '#ffffff',
                        fontSize: '16'
                    },
                },
            },
        ],
        yAxis: [
            {
                type: 'value',
                axisLine: {
                    lineStyle: {
                        color: '#ffffff',
//                            width:8,//这里是为了突出显示加上的，可以去掉
                    }
                },
                //  改变x轴字体颜色和大小
                // axisLabel: {
                //     textStyle: {
                //         color: '#ffffff',
                //         fontSize: '16'
                //     },
                // },
                axisLabel: {
                    formatter: '{value} '
                }
            }
        ],
        series: [
            {
                name: '高价标签',
                type: 'line',
                stack: 'Total',
                areaStyle: {
                    color: '#ea0b0b',
                    // opacity:0.25
                },
                emphasis: {
                    focus: 'series'
                },
                data: [149725, 127982, 141602, 141440]
            },
            {
                name: '中高价标签',
                type: 'line',
                stack: 'Total',
                areaStyle: {
                    color: '#ff9318',
                    // opacity:0.25
                },
                emphasis: {
                    focus: 'series'
                },
                data: [748625, 639910, 708015, 707298]
            },
            {
                name: '中等价标签',
                type: 'line',
                stack: 'Total',
                areaStyle: {
                    color: '#fffb18',
                    // opacity:0.25
                },
                emphasis: {
                    focus: 'series'
                },
                data: [1347525, 1151839, 1274427, 1272964]
            },
            {
                name: '中低价标签',
                type: 'line',
                stack: 'Total',
                areaStyle: {
                    color: '#51b7b3',
                    // opacity:0.25
                },
                emphasis: {
                    focus: 'series'
                },
                data: [1184123, 857621, 971256, 949877]
            },
            {
                name: '低价标签',
                type: 'line',
                stack: 'Total',
                // label: {
                //     show: true,
                //     position: 'top'
                // },
                areaStyle: {
                    color: '#4dd707',
                    // opacity:0.25
                },
                emphasis: {
                    focus: 'series'
                },
                data: [1061752, 1318057, 1152761, 1313054]
            }
        ]
    };
    myChart.setOption(option);
</script>
<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('prbottom_box1'));
    option = {
        color: ['#d2d17c', '#7fd7b1', '#5578cf', '#5ebbeb', '#d16ad8', '#f8e19a', '#00b7ee', '#81dabe', '#5fc5ce'],
        backgroundColor: 'rgba(1,202,217,0)',
        grid: {
            left: 20,
            right: 30,
            top: 0,
            bottom: 20
        },
        legend: {
            top: 5,

            textStyle: {
                fontSize: 10,
                color: 'rgba(255,255,255,.6)'
            },
            data: ['男', '女', '总数']
        },
        grid: {
            left: 20,
            right: 30,
            top: 40,
            bottom: 10,
            containLabel: true
        },
        toolbox: {
            feature: {
                saveAsImage: {}
            }
        },
        xAxis: {
            type: 'category',
            boundaryGap: false,
            axisLine: {
                lineStyle: {
                    color: 'rgba(255,255,255,.2)'
                }
            },
            splitLine: {
                lineStyle: {
                    color: 'rgba(255,255,255,.1)'
                }
            },
            axisLabel: {
                color: "rgba(255,255,255,.7)"
            },
            data: ['0-6', '6-18', '18-28', '28-55', '55以上']
        },
        yAxis: {
            type: 'value',
            axisLine: {
                lineStyle: {
                    color: 'rgba(255,255,255,.2)'
                }
            },
            splitLine: {
                lineStyle: {
                    color: 'rgba(255,255,255,.1)'
                }
            },
            axisLabel: {
                color: "rgba(255,255,255,.7)"
            },
        },
        series: [
            {
                name: '男',
                type: 'line',
                stack: '总量',
                areaStyle: {normal: {}},
                data: [120, 132, 101, 134, 90]
            },
            {
                name: '女',
                type: 'line',
                stack: '总量',
                data: [220, 182, 191, 234, 290]
            },
            {
                name: '总数',
                type: 'line',
                stack: '总量',
                data: [150, 232, 201, 154, 190]
            }
        ]
    };
    myChart.setOption(option);
</script>
<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('prbottom_box2'));
    option = {
        backgroundColor: 'rgba(1,202,217,.2)',
        color: ['#7ecef4', '#7fd7b1'],
        grid: {
            left: 30,
            right: 20,
            top: 20,
            bottom: 40
        },
        xAxis: {
            axisLine: {
                lineStyle: {
                    color: 'rgba(255,255,255,.7)'
                }
            },
            splitLine: {
                lineStyle: {
                    color: 'rgba(255,255,255,.1)'
                }
            },
            data: ['涉恐', '涉稳', '涉毒', '重点', '肇事', '重大']
        },
        yAxis: {
            axisLine: {
                lineStyle: {
                    color: 'rgba(255,255,255,.2)'
                }
            },
            splitLine: {
                lineStyle: {
                    color: 'rgba(255,255,255,.1)'
                }
            }
        },
        series: [{
            symbolSize: 20,
            data: [
                [0.0, 8.04],
                [2.0, 6.95],
                [3.0, 7.58],
                [5.0, 8.81],
                [0.4, 8.33],
                [4.0, 1.96],
                [0.3, 7.24],
                [4.6, 4.26],
                [2.0, 4.84],
                [2.0, 4.82],
                [5.0, 5.68]
            ],
            type: 'scatter'
        }]
    };
    myChart.setOption(option);
</script>

<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('prbottom_box3'));
    option = {
        backgroundColor: 'rgba(1,202,217,0)',
        grid: {
            left: 60,
            right: 20,
            top: 40,
            bottom: 40
        },

        // toolbox: {
        //     feature: {
        //         dataView: {show: true, readOnly: false},
        //         magicType: {show: true, type: ['line', 'bar']},
        //         restore: {show: true},
        //         saveAsImage: {show: true}
        //     }
        // },
        legend: {
            top: 10,
            textStyle: {
                fontSize: 10,
                color: 'rgba(255,255,255,.7)'
            },
            data: ['男', '女', '总数']
        },
        xAxis: [
            {
                type: 'category',
                axisLine: {
                    lineStyle: {
                        color: 'rgba(255,255,255,.2)'
                    }
                },
                splitLine: {
                    lineStyle: {
                        color: 'rgba(255,255,255,.1)'
                    }
                },
                axisLabel: {
                    color: "rgba(255,255,255,.7)"
                },

                data: ['0-6', '6-18', '18-28', '28-55', '55以上'],
                axisPointer: {
                    type: 'shadow'
                }
            }
        ],
        yAxis: [
            {
                type: 'value',
                name: '',
                min: 0,
                max: 250,
                interval: 50,
                axisLine: {
                    lineStyle: {
                        color: 'rgba(255,255,255,.3)'
                    }
                },
                splitLine: {
                    lineStyle: {
                        color: 'rgba(255,255,255,.01)'
                    }
                },

                axisLabel: {
                    formatter: '{value} ml'
                }
            },
            {
                type: 'value',
                name: '',
                max: 25,
                interval: 5,
                axisLine: {
                    lineStyle: {
                        color: 'rgba(255,255,255,0)'
                    }
                },
                splitLine: {
                    lineStyle: {
                        color: 'rgba(255,255,255,0)'
                    }
                }
            }
        ],
        series: [

            {
                name: '男',
                type: 'bar',
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(
                            0, 0, 0, 1,
                            [
                                {offset: 0, color: '#b266ff'},
                                {offset: 1, color: '#121b87'}
                            ]
                        )
                    }
                },
                data: [2.0, 4.9, 7.0, 23.2, 25.6]
            },
            {
                name: '女',
                type: 'bar',
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(
                            0, 0, 0, 1,
                            [
                                {offset: 0, color: '#00f0ff'},
                                {offset: 1, color: '#032a72'}
                            ]
                        )
                    }
                },
                data: [8.6, 5.9, 9.0, 26.4, 28.7]
            },
            {
                name: '总数',
                type: 'bar',
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(
                            0, 0, 0, 1,
                            [
                                {offset: 0, color: '#fffb34'},
                                {offset: 1, color: '#032a72'}
                            ]
                        )
                    }
                },
                yAxisIndex: 1,
                data: [6.0, 5.2, 3.3, 4.5, 6.3]
            }
        ]
    };
    myChart.setOption(option);
</script>
<script type="text/javascript">
    var myChart = echarts.init(document.getElementById('pmrmidd'));
    option = {
        color: ['#f1ff00', '#00c1ff', '#61a0a8', '#d48265', '#91c7ae', '#749f83', '#ca8622', '#bda29a', '#6e7074', '#546570', '#c4ccd3'],
        // backgroundColor: 'rgba(1,202,217,.2)',
        grid: {
            left: 20,
            right: 20,
            top: 30,
            bottom: 30
        },
        radar: {
            name: {
                textStyle: {
                    fontSize: 10,
                    color: 'rgba(255,255,255,.8)'
                }
            },
            splitLine: {
                lineStyle: {
                    color: [
                        'rgba(1,202,217,.01)', 'rgba(1,202,217,.01)'
                    ].reverse()
                }
            },
            splitArea: {
                show: false
            },
            axisLine: {
                lineStyle: {
                    color: 'rgba(1,202,217,.7)'
                }
            },
            indicator: [
                {name: '红色警情', max: 6500},
                {name: '橙色警情', max: 16000},
                {name: '黄色警情', max: 30000},
                {name: '绿色警情', max: 44000}
            ]
        },
        series: [{
            name: '',
            type: 'radar',
            radius: [5, 100],
            center: ['50%', '50%'],
            data: [
                {
                    value: [4300, 10000, 28000, 19000],
                    name: ''
                },
                {
                    value: [5000, 14000, 22000, 41000],
                    name: ''
                }
            ]
        }]
    };
    myChart.setOption(option);
</script>


</body>
</html>
